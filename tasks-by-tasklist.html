<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tasks by Tasklist | ProofHub</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: #f8fafc;
      font-size: 13px;
    }
    .header {
      background: linear-gradient(90deg, #4f46e5, #6366f1);
      color: white;
      padding: 14px 20px;
      font-weight: 600;
    }
    table th {
      font-size: 11px;
      text-transform: uppercase;
      color: #475569;
      background: #f1f5f9;
    }
  </style>
</head>
<body>

<div class="header">Tasks from Tasklist</div>

<div class="container py-4">

  <div class="card p-3 mb-3">
    <div class="row g-2 align-items-end">
      <div class="col-md-4">
        <label class="form-label">Project</label>
        <select id="projectSelect" class="form-select form-select-sm"></select>
      </div>
      <div class="col-md-4">
        <label class="form-label">Tasklist</label>
        <select id="listSelect" class="form-select form-select-sm" disabled></select>
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary btn-sm w-100" onclick="fetchTasks()">Get Tasks</button>
      </div>
      <div class="col text-end small text-muted">
        <span id="countText"></span>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="table-responsive">
      <table class="table table-sm table-hover align-middle">
        <thead>
          <tr>
            <th>Ticket</th>
            <th>Title</th>
            <th>Stage</th>
            <th>Estimate</th>
            <th>Logged</th>
            <th>Subtasks</th>
            <th>Created</th>
            <th>Updated</th>
          </tr>
        </thead>
        <tbody id="tasksBody"></tbody>
      </table>
    </div>
  </div>

</div>

<script src="tasks-by-tasklist.js"></script>
</body>
</html>
